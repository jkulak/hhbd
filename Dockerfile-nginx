FROM nginx:alpine

# Set UTF-8 locale for proper filename handling
ENV LANG=C.UTF-8
ENV LC_ALL=C.UTF-8

# Install perl for Unicode normalization (Unicode::Normalize is included)
RUN apk add --no-cache perl

# Copy nginx configuration
COPY conf/nginx/default.conf /etc/nginx/conf.d/default.conf

# Copy public assets (static files served by nginx)
COPY app/public /var/www/html/app/public
