{
    "name": "HHBD PHP 7.4",
    "build": {
        "dockerfile": "Dockerfile",
        "context": ".."
    },
    "workspaceFolder": "/workspaces/hhbd",
    "customizations": {
        "vscode": {
            "extensions": [
                "bmewburn.vscode-intelephense-client",
                "xdebug.php-debug",
                "neilbrayfield.php-docblocker",
                "obliviousharmony.vscode-php-codesniffer",
                
                "anthropic.claude-code",
                "google.gemini-cli-vscode-ide-companion",
                "google.geminicodeassist",
                "github.copilot",
                "github.copilot-chat",

                "davidanson.vscode-markdownlint",
                "github.vscode-github-actions",
                
                "ms-azuretools.vscode-docker",
                "ms-azuretools.vscode-containers",
                "vscode-icons-team.vscode-icons"
                                
                // "mechatroner.rainbow-csv",

            ],
            "settings": {
                "php.validate.executablePath": "/usr/local/bin/php",
                "intelephense.environment.phpVersion": "7.4.0"
            }
        }
    },
    "postCreateCommand": "npm install -g @google/gemini-cli && cd app && composer install",
    "remoteUser": "root",
    "features": {
        "ghcr.io/devcontainers/features/git:1": {},
        "ghcr.io/devcontainers/features/node:1": {
            "version": "lts"
        },
        "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {
        "version": "latest",
        "enableNonRootDocker": "true",
        "moby": "true"
        }
    },
    "forwardPorts": [8080, 8081, 8082, 3306],
    "portsAttributes": {
        "8080": {"label": "Frontend"},
        "8081": {"label": "Backoffice"},
        "8082": {"label": "Adminer"},
        "3306": {"label": "MariaDB"}
    }
}
